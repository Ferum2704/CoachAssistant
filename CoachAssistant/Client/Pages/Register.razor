@page "/register"

<h3>Register</h3>
<EditForm Model="@user">
    <InputText @bind-Value="user.FirstName" />
    <InputText @bind-Value="user.LastName" />
    <InputText @bind-Value="user.Username" />
    <InputText @bind-Value="user.Password" type="password" />
    <InputSelect @bind-Value="user.Role">
        <option value="Manager">Manager</option>
        <option value="Coach">Coach</option>
    </InputSelect>
    <button type="submit" @onclick="RegisterUser">Register</button>
</EditForm>

@inject NavigationManager NavigationManager
@inject IHttpClientService HttpClientService

@code {
    RegistrationModel user = new();

    async Task RegisterUser()
    {
        await HttpClientService.PostAsync<RegistrationModel>(ApiUrls.RegisterUrl, user);

        NavigationManager.NavigateTo("/login");
    }
}
